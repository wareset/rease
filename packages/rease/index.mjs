/* eslint-disable */
import{_cssInit as t,_cssProperties as e}from"@rease/css";export*from"@rease/css";import{listen as n}from"@rease/listen";export*from"@rease/listen";import{isSignal as r,signal as i,batch as s}from"@rease/signal";export*from"@rease/signal";class a{constructor(t,e){this.c=t,this.p=e}}function o(){var t={p:null,n:null};return t.p=t.n=t}function h(t,e,n){var r={p:null,n:null,f:e,c:n};return(r.p=(r.n=t).p).n=r.n.p=r,function(){r&&(r.p.n=r.n,r.n.p=r.p,r.f=j,r=null)}}function c(t){(this.d.f=this.f).call(this.d.c=this.c,t),x(this.r)}function l(t){this.f.call(this.c,t)}function u(t,e,n,r,i){var s=j;if(!t.destroyed){t._.$1++;var a={f:c,c:{r:t,d:null,f:r||j,c:i}};a.c.d=a;var o=e(n,l,a);if(o!==j){var h=j;s=function(){s!==j&&(s=j,h(),o(),a.f===c&&(a.f=j,x(t)))},h=t.onDestroy(s)}}return s}function f(t){this.r&&(this.f.call(this.c,t),x(this.r),this.r=null)}function d(t,e,n,r,i){var s=j;if(!t.destroyed){t._.$1++;var a={r:t,f:r||j,c:i},o=e(n,f,a);o!==j&&(s=function(){s!==j&&(s=j,o(),a.r&&(x(a.r),a.r=null))})}return s}function v(t,e){if(e>-1){t.children.splice(e,1);for(var n,r=t._.in,i=r.length;i--;)(n=r[i]).i>e&&n.i--}}var p,b=null;function y(t){if(b){b._.$1++,t.root=b.root,t.parent=b;var e=b.children;p===+p&&p<e.length?((p|=0)<0&&(p=0),(t.prev=(t.next=e[p]).prev)&&(t.prev.next=t),e.splice(p,0,t),t.next.prev=t):(t.next=null,(p=e.push(t)-1)?(t.prev=e[p-1]).next=t:t.prev=null);for(var n,r=b._.in,i=r.length;i--;)(n=r[i]).i<p||n.i++}else t.root=t,t.parent=t.prev=t.next=null;b=null,p=NaN}function m(t,e,n,r){if(void 0!==n)if(P(n))for(var i=0;i<n.length&&!t.destroyed;i++)m(t,e,n[i],r);else t.destroyed||(n instanceof Rease?n.destroyed||(e.push(n),n.move(t,r.i)):e.push(function(t,e,n){var r,i;if(t instanceof a){var s=t;r=s.c,i=s.p}else o=t,"function"==typeof o?(r=t,i={}):(r=RText,i={data:t});var o;for(var h,c=!1,l=r;l&&(l!==C&&!(c=l===Rease));l=T(l));b=e,p=n,c?(h=new r(i)).init():((h=new Rease)._.cr=r,h._name=r.name,$(t=r.call(h,i))?z(t,k,h):k.call(h,t));return h}(n,t,r.i)))}function g(){--this._.$2<1&&(this._.$2=NaN,this.parent&&x(this.parent))}function _(t,e,n){$(e=e.call(n,t))&&!t.destroyed&&(t._.$2++,z(e,g,t))}function x(t){--t._.$1<1&&(t._.$1=NaN,function(t){var e=t._.c2;if(e){t._.c2=null;for(var n=e;(n=n.n)!==e&&!t.destroyed;)_(t,n.f,n.c);g.call(t)}}(t))}function R(t,e){if(e)for(var n=e;(n=n.n)!==e;)n.f.call(n.c,t)}function w(t,e,n){if(t)for(var r=t;(r=r.n)!==t&&!e.destroyed;)r.f.call(r.c,e,n)}function k(t){this.insert(t),this.init()}var C=Function.prototype;function N(t,e){return"number"==typeof t&&t<=e?(t|=0)<0&&(t=e-t)<0?0:t:e}class Rease{constructor(){this._name=this.constructor.name,this.inited=!1,this.destroyed=!1,this.children=[],this._={c1:!1,$1:1,c2:o(),$2:1,d1:o(),d2:o(),if:[],cr:this.constructor,in:[],oc:{},on:{}},y(this)}init(){this._.c1||(this._.c1=this.inited=!0,x(this))}insert(t,e){var n=[];if(!this.destroyed&&void 0!==t){var r=this._.in,i={i:N(e,this.children.length)};r.push(i),m(this,n,t,i),r.splice(r.lastIndexOf(i),1)}return n}splice(t,e,n){if(!this.destroyed&&(void 0!==n||e)){var r=this._.in,i={i:t};r.push(i);for(var s=this.children.slice(t|=0,e+t),a=s.length;a-- >0;)s[a].destroy();return this.insert(n,r.splice(r.lastIndexOf(i),1)[0].i)}return[]}destroy(){if(!this.destroyed){var t=this._,e=t.$2;t.c2=null,t.$1=t.$2=NaN,this.destroyed=!0,R(this,t.d1),t.d1=null,this.destroyChildren();var n=this.parent,r=this.prev,i=this.next;this.parent=this.prev=this.next=null,r&&(r.next=i),i&&(i.prev=r),n&&v(n,n.children.lastIndexOf(this)),R(this,t.d2),t.d2=null,e&&n&&x(n)}}destroyChildren(){for(var t=this.children.slice(),e=t.length;e-- >0;)t[e].destroy()}move(t,e){if(!this.destroyed&&(t?!t.destroyed:this.parent)){var n=this.parent,r=this.prev,i=this.next;if(e=t?N(e,t.children.length):0,n){var s=n.children.indexOf(this);if(n===t){var a=n.children.length;if(e<a||(e=a-1),e>s&&e--,e===s)return!1}v(n,s)}r&&(r.next=i),i&&(i.prev=r),b=t,p=e,y(this),this._.$1++;var o=this._.$2;return this.emitDeep("move"),this.init(),x(this),n===t?t&&x(t):(o&&n&&x(n),o||t&&x(t)),!0}return!1}on(t,e,n,r){return this.destroyed?j:h((r=r?this._.oc:this._.on)[t]||(r[t]=o()),e,n)}emit(t,e,n){null!=n?w((n?this._.oc:this._.on)[t],this,e):(w(this._.oc[t],this,e),w(this._.on[t],this,e))}emitDeep(t,e){w(this._.oc[t],this,e);var n=this._.in,r={i:0};n.push(r);for(var i=this.children;r.i<i.length&&!this.destroyed;r.i++)i[r.i].emitDeep(t,e);n.splice(n.lastIndexOf(r),1),w(this._.on[t],this,e)}notifyParents(t,e){for(var n=this;n=n.parent;)n.emit(t,e)}notifyChildren(t,e){var n=this._.in,r={i:0};n.push(r);for(var i=this.children;r.i<i.length;r.i++)i[r.i].emitDeep(t,e);n.splice(n.lastIndexOf(r),1)}onMove(t,e){return this.on("move",t,e,!0)}onReady(t,e){return this.destroyed?j:this._.c2?h(this._.c2,t,e):(this._.$2?_(this,t,e):t.call(e,this),j)}onBeforeDestroy(t,e){return this._.d1?h(this._.d1,t,e):(t.call(e,this),j)}onDestroy(t,e){return this._.d2?h(this._.d2,t,e):(t.call(e,this),j)}await(t,e,n){return d(this,G,t,e,n)}awaitAll(t,e,n){return d(this,K,t,e,n)}watch(t,e,n){return u(this,st,t,e,n)}watchDeep(t,e,n){return u(this,at,t,e,n)}watchAll(t,e,n){return u(this,lt,t,e,n)}watchDeepAll(t,e,n){return u(this,ut,t,e,n)}findParent(t){for(var e=P(t),n=this;n=n.parent;)if(O(e,n,t))return n}findFirstChild(t,e){for(var n,r=P(t),i=e&&P(e),s=this.children,a=0,o=s.length;a<o;a++)if(O(r,n=s[a],t)||(!e||!O(i,n,e))&&(n=n.findFirstChild(t,e)))return n}findLastChild(t,e){for(var n,r=P(t),i=e&&P(e),s=this.children,a=s.length;a-- >0;)if(O(r,n=s[a],t)||(!e||!O(i,n,e))&&(n=n.findLastChild(t,e)))return n}findPrevSibling(t,e){for(var n,r=P(t),i=e&&P(e),s=this;s=s.prev;)if(O(r,n=s,t)||(!e||!O(i,n,e))&&(n=s.findLastChild(t,e)))return n}findNextSibling(t,e){for(var n,r=P(t),i=e&&P(e),s=this;s=s.next;)if(O(r,n=s,t)||(!e||!O(i,n,e))&&(n=s.findFirstChild(t,e)))return n}findParentOrPrev(t,e){var n=this.findPrevSibling(e,t);if(n)return{prev:n};for(var r,i=P(t),s=P(e),a=this;r=a,a=a.parent;){for(var o=a.children,h=o.indexOf(r);h-- >0;)if(O(s,n=o[h],e)||!O(i,n,t)&&(n=n.findLastChild(e,t)))return{prev:n};if(O(i,a,t))return{parent:a}}return{}}findParentOrNext(t,e){var n=this.findNextSibling(e,t);if(n)return{next:n};for(var r,i=P(t),s=P(e),a=this;r=a,a=a.parent;){for(var o=a.children,h=o.lastIndexOf(r),c=o.length;++h<c;)if(O(s,n=o[h],e)||!O(i,n,t)&&(n=n.findFirstChild(e,t)))return{next:n};if(O(i,a,t))return{parent:a}}return{}}}function O(t,e,n){if(t){for(var r=n.length;r--;)if(e._.cr===n||e instanceof n[r])return!0;return!1}return e._.cr===n||e instanceof n}function D(t,e,...n){if(e||(e={}),n.length&&(e.children=n.length>1?n:n[0]),E(t))switch(t){case"r-fragment":t=RFragment;break;case"r-watch":t=RWatch;break;case"r-if":t=RIf;break;case"r-else-if":t=RElseIf;break;case"r-else":t=RElse;break;case"r-switch":t=RSwitch;break;case"r-case":t=RCase;break;case"r-for-in":t=RForIn;break;case"r-for-of":t=RForOf;break;case"r-move":t=RMove;break;case"r-text":t=RText;break;case"r-element":t=RElement;break;default:e.node=t,t=RElement}return new a(t,e)}function I(t,e){var n=new RElement({node:t});return n.insert(e),n.init(),n}var A=Array,P=A.isArray,S=function(){function r(t){switch(typeof t){case"string":return t;case"object":var e=[];if(P(t))for(var n,i=0;i<t.length;i++)(n=r(t[i]))&&e.push(n);else if(t)for(var s in t)t[s]&&e.push(s);return e.join(" ");default:return""}}var i=/([A-Z])/g,s={},a=function(n){return t(),(a=function(t){return q(e,t=q(s,t)?s[t]:s[t]=t.replace(i,"-$1").toLowerCase())?e[t]:t})(n)};function o(t){switch(typeof t){case"string":return t;case"object":var e=[];if(P(t))for(var n,r=0;r<t.length;r++)(n=o(t[r]))&&e.push(";"===n[n.length-1]?n.slice(0,-1):n);else if(t)for(var i in t)null!=t[i]&&e.push(a(i)+":"+t[i]);return e.join(";");default:return""}}function h(t){return t==t&&""!==t&&("string"===(t=typeof t)||"number"===t||"boolean"===t)}function c(t,e,n){t.classList[n?"add":"remove"](e)}function l(t,e,n){t.style[h(n)?"setProperty":"removeProperty"](e,n,"important")}function u(t,e,n){t[h(n)?"setAttribute":"removeAttribute"](e,n)}function f(t){var e=this.r,n=e.node,i=e._attrs,s=e._class,a=this.k;if(i[a]=t=r(t),n&&(u(n,a,t),s))for(var o in s)c(n,o,s[o])}function d(t){var e=this.r,n=e.node,r=e._attrs,i=e._style,s=this.k;if(r[s]=t=o(t),n&&(u(n,s,t),i))for(var a in i)l(n,a,i[a])}var v=/^on-./;function p(t){var e=this.k,r=this.r,i=this.n,s=r.node,a=r._unevt;a[null==i?this.n=a.length:(a[i](),i)]=s&&t?n(s,e,(function(e){t.call(r,e)})):j}var b=/^class-./;function y(t){var e=this.r,n=e.node,r=e._class,i=this.k;r[i]=t,n&&c(n,i,t)}var m=/^style-./;function g(t){var e=this.r,n=e.node,r=e._style,i=this.k;r[i]=t,n&&l(n,i,t)}var _=/^xlink-./;function x(t){var e=this.r,n=e.node,r=e._attrs,i=this.k;r[i]=t,n&&n[h(t)?"setAttributeNS":"removeAttributeNS"](Z.xlink,i,t)}function R(t){var e=this.r,n=e.node,r=e._attrs,i=this.k;r[i]=t,n&&(i in n&&function(t,e,n){if(!q(t=w[t]||(w[t]={}),e)){for(var r;(n=T(n))&&!(r=J(n,e)););t[e]=r&&r.set}return t[e]}(n.localName,i,n)?n[i]=t:u(n,i,t))}var w={};function k(t,e){return"-"===t[e]?t.slice(e+1):t[e].toLowerCase()+t.slice(e+1)}function C(t){for(var e=t._unevt;e.length>0;)e.pop()()}return function(t,e,n){var r="style"===n?d:"class"===n||"className"===n&&(n="class")?f:v.test(n)?(n=k(n,2),"_unevt"in t||(t._unevt=[],t.onDestroy(C)),p):b.test(n)?(n=k(n,5),"_class"in t||(t._class={}),y):m.test(n)?(n=a(k(n,5)),"_style"in t||(t._style={}),g):_.test(n)?(n="xlink:"+k(n,5),x):R;t.watchDeep(e,r,{r:t,k:n})}}();function E(t){return"string"==typeof t}function $(t){return null!=t&&"function"==typeof t.then}function F(t){return null!=t&&"function"==typeof t.subscribe}function j(){}var M=Object,T=M.getPrototypeOf,L=M.keys,J=M.getOwnPropertyDescriptor,W=M.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},B=M.prototype.hasOwnProperty,q=M.hasOwn||function(t,e){return B.call(t,e)},U="http://www.w3.org/",Z={svg:U+"2000/svg",math:U+"1998/Math/MathML",xlink:U+"1999/xlink"};function z(t,e,n){var r=j;return t.then((function(t){r&&(r(),r=e?G(t,e,(e=null,n)):null)})),function(){r&&(r(),r=e=null)}}function G(t,e,n){return $(t)?z(t,e,n):(e.call(n,t),j)}function H(t){this[0][this[1]]=t,(this[3][0]<1||this[2]&&(this[2]=!1,--this[3][0]<1))&&this[4].call(this[5],this[0])}function K(t,e,n){var r=t.length;if(r>0){for(var i=[],s=[t.length],a=A(r),o=0;o<r;o++)a[o]=G(t[o],H,[i,o,!0,s,e,n]);return function(){for(;a.length>0;)a.pop()()}}return e.call(n,[]),j}function Q(t){if(this.a){this.v=t;for(var e,n=this.a,r=0;r<n.length;r++)(e=n[r])[0](e[1].call(this.c,t));this.b=!0}}function V(t,e){var n={b:!1,v:null,c:e,a:[]},r=j;function i(){r&&(r(),n.a=r=null)}return t.call(e,(function(t){r&&(r(),r=G(t,Q,n))})),i.then=function(t){return V((function(e){n.a&&t&&(n.a.push([e,t]),n.b&&e(t.call(this,n.v)))}),e)},i}function X(t,e){return function(n,r,i){var s;r||(r=j);var a=V((function(e){s=t((function(){e(r())}),0|n)}),i),o=function(){a&&(a(),e(s),a=null)};return o.then=a.then,o}}var Y=X(setTimeout,clearTimeout),tt=X(setInterval,clearInterval);function et(t){return{subscribe:(e,n)=>z(t,e,n)}}function nt(t){if(t!==this){this.f.call(this.c,t);var e=this.s._.s;e&&e.c===this&&(e.f=this.f,e.c=this.c)}}function rt(t,e){var n=j,r=t.subscribe((function(t){n(),n=j,F(t)||$(t)&&(t=et(t),1)?n=rt(t,e):e.s.set(t)}));return function(){n(),r.unsubscribe?r.unsubscribe():r(),n=r=j}}function it(t){s(this.f,this.c,[t])}function st(t,e,n){if(r(t))return t.subscribe(e,n);if(F(t)){var a={f:e,c:n,s:null};a.s=i(a);var o=t.subscribe((function(t){a.s.set(t)})),h=a.s.subscribe(nt,a);return function(){h(),o.unsubscribe?o.unsubscribe():o(),h=o=j}}return $(t)?z(t,it,{f:e,c:n}):(s(e,n,[t]),j)}function at(t,e,n){if(F(t)||$(t)&&(t=et(t),1)){var r={f:e,c:n,s:null};r.s=i(r);var a=rt(t,r),o=r.s.subscribe(nt,r);return function(){o(),a(),o=a=j}}return s(e,n,[t]),j}function ot(t){var e=this.d;e.v[this.i]=t,e.l<1?e.s.set(e.v.slice()):this.f&&(this.f=!1,--e.l<1)&&(e.s.set(e.v.slice()),e.u.push(e.s.subscribe(e.f,e.c)))}function ht(t,e,n,r,s){for(var a=n.length,o={l:a,v:A(a),u:t,s:i(t),f:r,c:s},h=0;h<a;h++)t[h]=e(n[h],ot,{d:o,i:h,f:!0})}function ct(t){return function(e,n,r){var i=e.length;if(i>0){var a=A(i);return s(ht,void 0,[a,t,e,n,r]),function(){for(;a.length>0;)a.pop()()}}return s(n,r,[[]]),j}}var lt=ct(st),ut=ct(at);function ft(t){var e=t[0],n=t[1];e||(e=this.p),this.r.move(e,n),void 0===this.c||(this.r.insert(this.c),this.c=void 0)}class RMove extends Rease{constructor({is:t,index:e,children:n}){super(),this.watchDeepAll([t,e],ft,{r:this,p:this.parent,c:n})}}function dt(){return null}var vt=function(){return{}},pt=dt,bt=dt,yt=j,mt=j,gt=j,_t=j,xt={};function Rt(t){this._data=t=void 0===t?"":""+t,this.node&&(this.node.textContent=t)}class RText extends Rease{constructor({data:t}){super(),t&&(t.subscribe||t.then)?(this._data="",this.watchDeep(t,Rt,this)):this._data=void 0===t?"":""+t;var e=vt(this),n=e.p,r=e.b;(this.node=pt(this._data,n,r))&&(yt(this.node,n,r),this.onMove(gt),this.onDestroy(mt))}}class RElement extends Rease{constructor({children:t,node:e,...n}){var r;super();var i=j;switch(E(e)?(r=e,e=null):r=e?e.localName:"",this.localName=r||(r="template")){case"html":this.node=e||xt.documentElement;break;case"head":this.node=e||xt.head;break;case"body":this.node=e||xt.body;break;default:var s=vt(this),a=s.p,o=s.b;(this.node=e||(e=bt(r,a,o)))&&(yt(e,a,o),i=_t,this.onMove(gt),this.onDestroy(mt))}for(var h in this._attrs={},n){if(this.destroyed)break;S(this,n[h],h)}this.insert(t),i(this)}}if("undefined"!=typeof document){xt=document;var wt="_rease_relement_or_rtext",kt={style:1,script:1};function Ct(t){t.parentNode&&t.parentNode.removeChild(t)}var Nt=[RElement,RText];function Ot(t,e){return document.createElementNS(Z.hasOwnProperty(t)?Z[t]:(e&&"foreignObject"!==e.localName?e:document.documentElement).namespaceURI,t)}vt=function(t){var e=t.findParentOrPrev(RElement,Nt),n=e.parent,r=e.prev,i=r&&r.node;return{p:i&&i.parentElement||n&&n.node,b:i}},pt=function(t,e,n){return(n=n?n.nextSibling:e&&e.firstChild)&&(3!==n.nodeType||wt in n||Ct(n)),(n=Ot("font",e)).style.verticalAlign="inherit",n.textContent=t,n},bt=function(t,e,n){if(t){if(n=n?n.nextSibling:e&&e.firstChild)for(var r;n&&!(wt in n);)if(r=n,n=n.nextSibling,1!==r.nodeType)Ct(r);else{if(r.localName===t){for(var i=r.attributes,s=i.length;s-- >0;)r.removeAttribute(i[s].name);return r}if(!kt.hasOwnProperty(r.localName))break}return Ot(t,e)}return null},yt=function(t,e,n){t[wt]=!0,e&&e.insertBefore(t,(n?n.nextSibling:e.firstChild)||null)},mt=function(t){var e=t.node;e&&Ct(e)},gt=function(t){var e=t.node;if(e){var n=vt(t),r=n.p,i=n.b;r?yt(e,r,i):mt(t)}},_t=function(t){var e=t.node;if(e)for(var n=e.childNodes,r=n.length;r-- >0&&!(wt in(e=n[r]));)1===e.nodeType&&kt.hasOwnProperty(e.localName)||Ct(e)}}class RFragment extends Rease{constructor({children:t}){super(),this.insert(t)}}function Dt(){this.r.destroyChildren(),this.r.insert(this.c)}class RWatch extends Rease{constructor({children:t,is:e}){super(),this[P(e)?"watchDeepAll":"watchDeep"](e,Dt,{r:this,c:t})}}function It(t,e){return e>0?!t:t}function At(t){this.b!==(this.b=t.every(It))&&(this.b?this.r.insert(this.c):this.r.destroyChildren())}function Pt(t,e,n){t.parent&&(t.parent._.if=n),t.watchDeepAll(n,At,{r:t,b:!1,c:e})}class RIf extends Rease{constructor({children:t,is:e}){super(),Pt(this,t,[e])}}class RElseIf extends Rease{constructor({children:t,is:e}){super(),Pt(this,t,[e].concat(this.parent?this.parent._.if:[]))}}class RElse extends Rease{constructor({children:t}){super(),Pt(this,t,[!0].concat(this.parent?this.parent._.if:[]))}}class RSwitch extends Rease{constructor({children:t,is:e}){super(),this._is=e,this.insert(t)}}function St(t){this.i=!0,this.b!==(this.b=W(t[0],t[1]))&&(this.b?this.r.insert(this.c):this.r.destroyChildren())}function Et(t){var e=t._is,n=t._ctx,r=t.findParent(RSwitch);n.i=!1,n.u(),r&&(n.u=t.watchDeepAll([r._is,e],St,n)),!n.i&&n.b&&(n.b=!1,t.destroyChildren())}class RCase extends Rease{constructor({children:t,is:e}){super(),this._is=e,this._ctx={r:this,b:!1,c:t,i:!1,u:j},this.onMove(Et),Et(this)}}function $t(t){var e=this[0],n=this[1],r=this[2],i={};if(this[2]=i,t=t[0]){var s,a,o=e.children,h=0;for(var c in t){if(e.destroyed)return;q(t,c)&&(s=t[c],q(r,c)&&W((a=r[c])[0],s)?(s=(i[c]=a)[1],delete r[c]):i[c]=[s,s=e.insert(n(s,c,t),h)],s.length&&(s=o.lastIndexOf(s[s.length-1]))>-1&&(h=s+1))}for(var l=L(r),u=l.length;u-- >0;)for(var f=r[l[u]][1],d=f.length;d-- >0;)f[d].destroy()}else e.destroyChildren()}class RForIn extends Rease{constructor({is:t,watch:e,children:n}){super(),this.watchDeepAll([t,e],$t,[this,n,{}])}}function Ft(t,e,n){for(var r=n,i=t.length;r<i;r++)if(W(t[r],e))return r;return-1}function jt(t){var e=this[0],n=this[1],r=this[2],i=this[3],s=[],a=[];if(this[2]=s,this[3]=a,t=t[0]){var o,h,c=e.children,l=0,u=0;for(var f in t){if(e.destroyed)return;q(t,f)&&(s.push(h=t[f]),(o=Ft(r,h,u))>-1?(a.push(h=i[o]),i[o]=i,u=o+1):a.push(h=e.insert(n(h,""+(o=+f)===f?o:f,t),l)),h.length&&(h=c.lastIndexOf(h[h.length-1]))>-1&&(l=h+1))}for(var d,v=i.length;v-- >0;)if((d=i[v])!==i)for(var p=d.length;p-- >0;)d[p].destroy()}else e.destroyChildren()}class RForOf extends Rease{constructor({is:t,watch:e,children:n}){super(),this.watchDeepAll([t,e],jt,[this,n,[],[]])}}function Mt(t,e){var n;if(null==t)n=Math.random();else for(var r,i=1/(n=.9973),s=(t+="").length,a=e&&s/99>>>1||1,o=0;o<s;o+=a)13===(r=t.charCodeAt(o))?o-=a-1:(n+=r*n*997.3/(r+n)+i)>0&&(n-=0|n);return(5e16*n+4e16).toString(36)}var Tt,Lt={embed:1,iframe:1,object:1,portal:1,svg:1,math:1,canvas:1,script:1,button:1,datalist:1,input:1,meter:1,optgroup:1,option:1,progress:1,select:1,textarea:1,slot:1,template:1},Jt=(Tt=/^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/,function(t){return Tt.test(t)});function Wt(t){var e=[];if(t instanceof RText)e.push(t._data.replace(/["'&<>]/g,(function(t){switch(t){case'"':t="&quot;";break;case"'":t="&#39;";break;case"&":t="&amp;";break;case"<":t="&lt;";break;case">":t="&gt;"}return t})));else if(t instanceof RElement){var n=t.localName;if(n&&!Lt.hasOwnProperty(n)){var r,i,s=t._class,a=t._style,o=t._attrs,h=[],c=[],l=[];if(s)for(r in s)s[r]&&h.push(r);if(a)for(r in a)(i=a[r])&&c.push(r,":",i,";");if(o)for(r in o)if(i=o[r])switch(r){case"class":h.push(i);break;case"style":c.push(i);break;default:l.push(" ",r,"=",JSON.stringify(""+i))}if(h.length&&l.push(" class=",JSON.stringify(h.join(" "))),c.length&&l.push(" style=",JSON.stringify(c.join(""))),e.push("<",n,l.join("")),Jt(n))e.push("/>");else{e.push(">");for(var u=t.children,f=0;f<u.length;f++)e.push(Wt(u[f]));e.push("</",n,">")}}}else for(var d=t.children,v=0;v<d.length;v++)e.push(Wt(d[v]));return e.join("")}export{RCase,RElement,RElse,RElseIf,RForIn,RForOf,RFragment,RIf,RMove,RSwitch,RText,RWatch,Rease,D as createElement,D as h,Mt as hash,tt as interval,F as isSubscribable,$ as isThenable,I as render,z as then,G as thenSafe,K as thenSafeAll,V as thenable,Y as timeout,Wt as toHTMLString,st as watch,lt as watchAll,at as watchDeep,ut as watchDeepAll};
